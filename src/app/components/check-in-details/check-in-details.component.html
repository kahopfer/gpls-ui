<div class="container">
  <div class="row justify-content-md-center">
    <div class="col-md-8 col-md-offset-2">
      <h2>Student Check In</h2>
      <app-error-alert [status]="studentsStatus"></app-error-alert>
      <br>
      <app-error-alert [status]="guardiansStatus"></app-error-alert>
      <div *ngIf="students.length > 0">
        <form #checkInStudentsForm="ngForm" (ngSubmit)="updateStudentCheckedInStatus(checkInStudentsForm)">
          <ng-container *ngFor="let student of students; let i = index">
            <div class="form-group">
              <label for="checkInBy-{{i}}">Who is checking {{student.fname}} {{student.lname}} in?</label>
              <select name="checkInBy-{{i}}" class="form-control" required id="checkInBy-{{i}}" #checkInBy ngModel>
                <option></option>
                <ng-container *ngFor="let guardian of guardianArray[i]">
                  <option value="{{guardian.fname}} {{guardian.lname}}">{{guardian.fname}} {{guardian.lname}}</option>
                </ng-container>
                <option value="{{fullName}}">{{fullName}}</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </ng-container>
          <button type="submit" class="btn btn-primary" [disabled]="!checkInStudentsForm.form.valid">
            <i class="fa fa-check"></i>
            Check In
          </button>
          <button type="button" class="btn btn-secondary" (click)="cancel()">
            <i class="fa fa-ban"></i>
            Cancel
          </button>
        </form>
      </div>
      <div *ngIf="students.length === 0">
        <p>No students selected</p>
      </div>
    </div>
  </div>
</div>
